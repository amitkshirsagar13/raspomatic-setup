# respomatic-setup

### Mount Disk Drives:

```

sudo blkid
sudo apt-get install ntfs-3g
sudo vi /etc/fstab

/dev/sda1	/media/entertainment	vfat	rw,defaults	0	0
/dev/sdb1	/media/data	vfat	rw,defaults	0	0
```

### Run Plex:

```
docker run -d --restart=always --name plex -v /media/entertainment:/media/pi/entertainment --net=host -v /media/entertainment/plexmediaserver/Library:/root/Library jaymoulin/plex

```

### Setup DNSMASQ

```
pi@k8m:/media/pi $ cat /etc/dnsmasq.conf 
# Dnsmasq.conf for raspberry pi    
# Full examples found here:  
 
# Set up your local domain here    
domain=raspomatic   
resolv-file=/etc/resolv.dnsmasq  
min-port=4096   
server=8.8.8.8
server=8.8.4.4
      
# Max cache size dnsmasq can give us, and we want all of it!    
cache-size=10000    
      
# Below are settings for dhcp. Comment them out if you dont want    
# dnsmasq to serve up dhcpd requests.    
# dhcp-range=192.168.0.100,192.168.0.149,255.255.255.0,1440m    
# dhcp-option=3,192.168.0.1    
# dhcp-authoritative
#address=/k8m.io/192.168.1.150
#address=/k8m.io/192.168.1.111
#address=/k8n1.io/192.168.1.123

pi@k8m:/media/pi $ cat /etc/resolv.conf
# Generated by resolvconf
nameserver 127.0.0.1

pi@k8m:/media/pi $ cat /etc/dnsmasq.d/k8m 
address=/k8cluster.io/192.168.1.1
address=/k8m.k8cluster.io/192.168.1.111
address=/k8n1.k8cluster.io/192.168.1.123


# All clients using dnsmasq server
poomit@k8n1:/media/pi $ sudo vi /etc/resolv.conf
nameserver 192.168.1.111
nameserver 8.8.8.8

```
